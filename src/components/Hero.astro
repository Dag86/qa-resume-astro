---
import type { Contacts } from "../types/resume";
import DownloadResume from "./DownloadResume.astro";

interface Props {
  name: string;
  title: string;
  location: string;
  contacts: Contacts;
  summary: string;
  /** Optional: provide a static PDF path if you have one */
  pdf?: string;
}

const { name, title, location, contacts, summary, pdf } = Astro.props as Props;
---

<section id="hero" aria-labelledby="hero-h" class="card" style="padding:1.25rem;">
  <h1 id="hero-h" style="margin:.25rem 0 0;">{name}</h1>
  <p class="muted" style="margin:.1rem 0 .5rem;">{title} â€” {location}</p>
  <p style="max-width:62ch">{summary}</p>

  <div style="display:flex; gap:.5rem; flex-wrap:wrap; margin-top:.75rem;">
    <DownloadResume />
    <a class="btn" href={`mailto:${contacts.email}`}>Email</a>
    <a class="btn" href={contacts.linkedin} target="_blank" rel="noopener">LinkedIn</a>
    <a class="btn" href={contacts.github} target="_blank" rel="noopener">GitHub</a>
    <button class="btn" id="theme-toggle" type="button" aria-label="Toggle dark/light theme">Dark / Light</button>
  </div>
</section>

<script is:inline>
  (function () {
    const root = document.documentElement;
    const key = "theme";
    const btn = document.getElementById("theme-toggle");
    if (!btn) return;
    btn.addEventListener("click", () => {
      root.classList.add("theme-animating");
      const current = localStorage.getItem(key) || (matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");
      const next = current === "dark" ? "light" : "dark";
      document.documentElement.dataset.theme = next;
      localStorage.setItem(key, next);
      setTimeout(() => root.classList.remove("theme-animating"), 220);
    });
  })();
</script>
