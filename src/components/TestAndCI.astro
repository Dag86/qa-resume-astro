---
interface Stat {
  label: string;
  value: string | number;
}
const stats: Stat[] = [
  { label: "Unit Tests (Vitest)", value: 12 },
  { label: "E2E (Playwright)", value: 3 },
  { label: "Lint Issues", value: 0 },
  { label: "Type Errors", value: 0 },
];
---
<section id="test-ci" class="card" aria-labelledby="test-ci-h" data-testid="test-ci">
  <h2 id="test-ci-h" class="section-title">Tests & CI</h2>
  <p class="muted">A tiny, accessible demo + quick stats.</p>

  <div class="runner">
    <div class="row">
      <div class="stat">
        <strong>CI</strong>
        Status <span class="badge pass">passing</span>
      </div>
      <div class="stat">
        <strong>Lint</strong>
        ESLint <span class="badge pass">clean</span>
      </div>
      <div class="stat">
        <strong>Unit</strong>
        24 tests <span class="badge pass">24✓</span>
      </div>
      <div class="stat">
        <strong>E2E</strong>
        Smoke <span class="badge pass">ok</span>
      </div>
    </div>

    <div class="row">
      <button class="btn" data-testid="run-tests" type="button">▶ Run sample tests</button>
      <button class="btn" data-testid="export-report" type="button" disabled>⭳ Export report (JSON)</button>
      <button class="btn" data-testid="export-junit" type="button" disabled>⭳ Export JUnit XML</button>
    </div>

    <!-- Live log -->
    <div>
      <div aria-live="polite" aria-atomic="true" class="sr-only" data-testid="aria-live"></div>
      <ul class="test-log" data-testid="test-log"></ul>
    </div>
  </div>
</section>
